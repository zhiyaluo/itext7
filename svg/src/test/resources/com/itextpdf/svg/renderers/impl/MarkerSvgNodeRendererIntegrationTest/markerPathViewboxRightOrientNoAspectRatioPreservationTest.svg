<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1600" height="800" version="1.1"><defs><g id="grid" fill="none" stroke="green"><circle r="5" stroke-width=".2"/><line x1="-50" x2="50" fill="none" stroke-width="1"/><line y1="-50" y2="50" fill="none" stroke-width="1"/><line x1="-50" x2="50" y1="-5" y2="-5" fill="none" stroke="#000" stroke-width=".1"/><line x1="-50" x2="50" y1="-10" y2="-10" fill="none" stroke-width=".2"/><line x1="-50" x2="50" y1="-15" y2="-15" fill="none" stroke="#000" stroke-width=".1"/><line x1="-50" x2="50" y1="-20" y2="-20" fill="none" stroke-width=".2"/><line x1="-50" x2="50" y1="-25" y2="-25" fill="none" stroke="#000" stroke-width=".1"/><line x1="-50" x2="50" y1="-30" y2="-30" fill="none" stroke-width=".2"/><line x1="-50" x2="50" y1="-35" y2="-35" fill="none" stroke="#000" stroke-width=".1"/><line x1="-50" x2="50" y1="-40" y2="-40" fill="none" stroke-width=".2"/><line x1="-50" x2="50" y1="-45" y2="-45" fill="none" stroke="#000" stroke-width=".1"/><line x1="-50" x2="50" y1="5" y2="5" fill="none" stroke="#000" stroke-width=".1"/><line x1="-50" x2="50" y1="10" y2="10" fill="none" stroke-width=".2"/><line x1="-50" x2="50" y1="15" y2="15" fill="none" stroke="#000" stroke-width=".1"/><line x1="-50" x2="50" y1="20" y2="20" fill="none" stroke-width=".2"/><line x1="-50" x2="50" y1="25" y2="25" fill="none" stroke="#000" stroke-width=".1"/><line x1="-50" x2="50" y1="30" y2="30" fill="none" stroke-width=".2"/><line x1="-50" x2="50" y1="35" y2="35" fill="none" stroke="#000" stroke-width=".1"/><line x1="-50" x2="50" y1="40" y2="40" fill="none" stroke-width=".2"/><line x1="-50" x2="50" y1="45" y2="45" fill="none" stroke="#000" stroke-width=".1"/><line x1="-5" x2="-5" y1="-50" y2="50" fill="none" stroke="#000" stroke-width=".1"/><line x1="-10" x2="-10" y1="-50" y2="50" fill="none" stroke-width=".2"/><line x1="-15" x2="-15" y1="-50" y2="50" fill="none" stroke="#000" stroke-width=".1"/><line x1="-20" x2="-20" y1="-50" y2="50" fill="none" stroke-width=".2"/><line x1="-25" x2="-25" y1="-50" y2="50" fill="none" stroke="#000" stroke-width=".1"/><line x1="-30" x2="-30" y1="-50" y2="50" fill="none" stroke-width=".2"/><line x1="-35" x2="-35" y1="-50" y2="50" fill="none" stroke="#000" stroke-width=".1"/><line x1="-40" x2="-40" y1="-50" y2="50" fill="none" stroke-width=".2"/><line x1="-45" x2="-45" y1="-50" y2="50" fill="none" stroke="#000" stroke-width=".1"/><line x1="5" x2="5" y1="-50" y2="50" fill="none" stroke="#000" stroke-width=".1"/><line x1="10" x2="10" y1="-50" y2="50" fill="none" stroke-width=".2"/><line x1="15" x2="15" y1="-50" y2="50" fill="none" stroke="#000" stroke-width=".1"/><line x1="20" x2="20" y1="-50" y2="50" fill="none" stroke-width=".2"/><line x1="25" x2="25" y1="-50" y2="50" fill="none" stroke="#000" stroke-width=".1"/><line x1="30" x2="30" y1="-50" y2="50" fill="none" stroke-width=".2"/><line x1="35" x2="35" y1="-50" y2="50" fill="none" stroke="#000" stroke-width=".1"/><line x1="40" x2="40" y1="-50" y2="50" fill="none" stroke-width=".2"/><line x1="45" x2="45" y1="-50" y2="50" fill="none" stroke="#000" stroke-width=".1"/></g><g id="markerContents" fill="none"><circle r="5" stroke="#000"/><circle r="10" stroke="#000"/><g id="marker-grid" stroke="red"><circle r="2.5" fill="none" stroke-width=".2"/><line x2="20" fill="none" stroke="orange" stroke-width=".5"/><line y2="20" fill="none" stroke-width=".5"/><line x2="20" y1="5" y2="5" fill="none" stroke="orange" stroke-width=".2"/><line x2="20" y1="10" y2="10" fill="none" stroke="orange" stroke-width=".2"/><line x2="20" y1="15" y2="15" fill="none" stroke="orange" stroke-width=".2"/><line x1="5" x2="5" y2="20" fill="none" stroke-width=".2"/><line x1="10" x2="10" y2="20" fill="none" stroke-width=".2"/><line x1="15" x2="15" y2="20" fill="none" stroke-width=".2"/><rect width="20" height="15" stroke="#00f"/></g><path stroke="#00f" d="M 0 0 L 10 5 L 0 10 z"/></g><marker id="viewbox20x15" markerHeight="3" markerUnits="strokeWidth" markerWidth="4" orient="auto" preserveAspectRatio="none" viewBox="0 0 20 15"><use xlink:href="#markerContents"/></marker><marker id="viewbox20x10" markerHeight="3" markerUnits="strokeWidth" markerWidth="4" orient="auto" preserveAspectRatio="none" viewBox="0 0 20 10"><use xlink:href="#markerContents"/></marker><marker id="viewbox10x15" markerHeight="3" markerUnits="strokeWidth" markerWidth="4" orient="auto" preserveAspectRatio="none" viewBox="0 0 10 15"><use xlink:href="#markerContents"/></marker><marker id="viewbox10x10" markerHeight="3" markerUnits="strokeWidth" markerWidth="4" orient="auto" preserveAspectRatio="none" viewBox="0 0 10 10"><use xlink:href="#markerContents"/></marker></defs><g fill="none"><g transform="scale(1,1)"><text x="20" y="30" fill="#000" font-size="8">Original Viewport: 5 * (4,3) = 20x15</text><text x="20" y="40" fill="#000" font-size="8">Viewbox: 20x15, no scaling</text><rect width="300" height="200" fill="none" stroke="#00f" stroke-width="1"/><g transform="translate(200,100)"><use xlink:href="#grid"/><rect width="20" height="15" stroke="#000"/></g><path fill="none" stroke="#000" stroke-width="5" marker-end="url(#viewbox20x15)" d="M 50 100 L 150 100 L 200 100"/></g><g transform="scale(1,1) translate(0,200)"><text x="20" y="30" fill="#000" font-size="8">Original Viewport: 5 * (4,3) = 20x15</text><text x="20" y="40" fill="#000" font-size="8">Viewbox: 20x10</text><rect width="300" height="200" fill="none" stroke="#00f" stroke-width="1"/><g transform="translate(200,100)"><use xlink:href="#grid"/><rect width="20" height="15" stroke="#000"/></g><path fill="none" stroke="#000" stroke-width="5" marker-end="url(#viewbox20x10)" d="M 50 100 L 150 100 L 200 100"/></g><g transform="scale(1,1) translate(300,200)"><text x="20" y="30" fill="#000" font-size="8">Original Viewport: 5 * (4,3) = 20x15</text><text x="20" y="40" fill="#000" font-size="8">Viewbox: 10x10</text><rect width="300" height="200" fill="none" stroke="#00f" stroke-width="1"/><g transform="translate(200,100)"><use xlink:href="#grid"/><rect width="20" height="15" stroke="#000"/></g><path fill="none" stroke="#000" stroke-width="5" marker-end="url(#viewbox10x10)" d="M 50 100 L 150 100 L 200 100"/></g><g transform="scale(1,1) translate(300,0)"><text x="20" y="30" fill="#000" font-size="8">Original Viewport: 5 * (4,3) = 20x15</text><text x="20" y="40" fill="#000" font-size="8">Viewbox: 10x15</text><rect width="300" height="200" fill="none" stroke="#00f" stroke-width="1"/><g transform="translate(200,100)"><use xlink:href="#grid"/><rect width="20" height="15" stroke="#000"/></g><path fill="none" stroke="#000" stroke-width="5" marker-end="url(#viewbox10x15)" d="M 50 100 L 150 100 L 200 100"/></g></g></svg>